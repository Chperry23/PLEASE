{"ast":null,"code":"// src/api/dashboardApi.js\nimport axios from 'axios';\nconst API_URL = 'http://localhost:5000/api';\nconst getHeaders = () => ({\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\nconst handleApiError = (error, fallbackMessage) => {\n  var _error$response;\n  console.error(fallbackMessage, ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  throw error;\n};\nexport const fetchJobs = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/jobs`, getHeaders());\n    return response.data;\n  } catch (error) {\n    handleApiError(error, 'Error fetching jobs:');\n  }\n};\nexport const fetchCustomers = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/customers`, getHeaders());\n    return response.data;\n  } catch (error) {\n    handleApiError(error, 'Error fetching customers:');\n  }\n};\nexport const fetchEmployees = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/employees`, getHeaders());\n    return response.data;\n  } catch (error) {\n    handleApiError(error, 'Error fetching employees:');\n  }\n};\nexport const fetchAnalytics = async (timeRange, customRange = null) => {\n  let startDate, endDate;\n  if (timeRange === 'custom' && customRange) {\n    startDate = customRange.start;\n    endDate = customRange.end;\n  } else {\n    const end = new Date();\n    const start = new Date();\n    start.setDate(end.getDate() - (timeRange === 'all' ? 365 : parseInt(timeRange)));\n    startDate = start.toISOString().split('T')[0];\n    endDate = end.toISOString().split('T')[0];\n  }\n  const url = `${API_URL}/analytics?startDate=${startDate}&endDate=${endDate}`;\n  try {\n    const response = await axios.get(url, getHeaders());\n    return response.data;\n  } catch (error) {\n    handleApiError(error, 'Error fetching analytics:');\n  }\n};\nexport const fetchCustomerGrowth = async (startDate, endDate) => {\n  const response = await axios.get(`${API_URL}/analytics/customer-growth?startDate=${startDate}&endDate=${endDate}`, getHeaders());\n  return response.data;\n};\nexport const fetchRevenue = async (startDate, endDate) => {\n  const response = await axios.get(`${API_URL}/analytics/revenue?startDate=${startDate}&endDate=${endDate}`, getHeaders());\n  return response.data;\n};\nexport const fetchJobStatistics = async (startDate, endDate) => {\n  const response = await axios.get(`${API_URL}/analytics/job-statistics?startDate=${startDate}&endDate=${endDate}`, getHeaders());\n  return response.data;\n};\nexport const fetchEmployeePerformance = async (startDate, endDate) => {\n  const response = await axios.get(`${API_URL}/analytics/employee-performance?startDate=${startDate}&endDate=${endDate}`, getHeaders());\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","getHeaders","headers","Authorization","localStorage","getItem","handleApiError","error","fallbackMessage","_error$response","console","response","data","message","fetchJobs","get","fetchCustomers","fetchEmployees","fetchAnalytics","timeRange","customRange","startDate","endDate","start","end","Date","setDate","getDate","parseInt","toISOString","split","url","fetchCustomerGrowth","fetchRevenue","fetchJobStatistics","fetchEmployeePerformance"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/api/dashboardApi.js"],"sourcesContent":["// src/api/dashboardApi.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\nconst getHeaders = () => ({\r\n  headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n});\r\n\r\nconst handleApiError = (error, fallbackMessage) => {\r\n  console.error(fallbackMessage, error.response?.data || error.message);\r\n  throw error;\r\n};\r\n\r\nexport const fetchJobs = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/jobs`, getHeaders());\r\n    return response.data;\r\n  } catch (error) {\r\n    handleApiError(error, 'Error fetching jobs:');\r\n  }\r\n};\r\n\r\nexport const fetchCustomers = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/customers`, getHeaders());\r\n    return response.data;\r\n  } catch (error) {\r\n    handleApiError(error, 'Error fetching customers:');\r\n  }\r\n};\r\n\r\nexport const fetchEmployees = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/employees`, getHeaders());\r\n    return response.data;\r\n  } catch (error) {\r\n    handleApiError(error, 'Error fetching employees:');\r\n  }\r\n};\r\n\r\nexport const fetchAnalytics = async (timeRange, customRange = null) => {\r\n  let startDate, endDate;\r\n  \r\n  if (timeRange === 'custom' && customRange) {\r\n    startDate = customRange.start;\r\n    endDate = customRange.end;\r\n  } else {\r\n    const end = new Date();\r\n    const start = new Date();\r\n    start.setDate(end.getDate() - (timeRange === 'all' ? 365 : parseInt(timeRange)));\r\n    startDate = start.toISOString().split('T')[0];\r\n    endDate = end.toISOString().split('T')[0];\r\n  }\r\n\r\n  const url = `${API_URL}/analytics?startDate=${startDate}&endDate=${endDate}`;\r\n  try {\r\n    const response = await axios.get(url, getHeaders());\r\n    return response.data;\r\n  } catch (error) {\r\n    handleApiError(error, 'Error fetching analytics:');\r\n  }\r\n};\r\n\r\nexport const fetchCustomerGrowth = async (startDate, endDate) => {\r\n  const response = await axios.get(`${API_URL}/analytics/customer-growth?startDate=${startDate}&endDate=${endDate}`, getHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const fetchRevenue = async (startDate, endDate) => {\r\n  const response = await axios.get(`${API_URL}/analytics/revenue?startDate=${startDate}&endDate=${endDate}`, getHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const fetchJobStatistics = async (startDate, endDate) => {\r\n  const response = await axios.get(`${API_URL}/analytics/job-statistics?startDate=${startDate}&endDate=${endDate}`, getHeaders());\r\n  return response.data;\r\n};\r\n\r\nexport const fetchEmployeePerformance = async (startDate, endDate) => {\r\n  const response = await axios.get(`${API_URL}/analytics/employee-performance?startDate=${startDate}&endDate=${endDate}`, getHeaders());\r\n  return response.data;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}