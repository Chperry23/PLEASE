{"ast":null,"code":"import axios from 'axios';\nimport debounce from 'lodash/debounce';\nexport const API_BASE_URL = 'http://localhost:5000/api';\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\n  acc[day] = [{\n    index: 0,\n    jobs: []\n  }];\n  return acc;\n}, {});\nexport const validateRoutesStructure = routes => {\n  return DAYS_OF_WEEK.reduce((acc, day) => {\n    acc[day] = Array.isArray(routes[day]) ? routes[day] : [{\n      index: 0,\n      jobs: []\n    }];\n    return acc;\n  }, {});\n};\nexport const fetchWithAuth = async (url, method = 'GET', data = null, options = {}) => {\n  const token = localStorage.getItem('token');\n  if (!token) throw new Error('User is not authenticated');\n  const config = {\n    method,\n    url: `${API_BASE_URL}${url}`,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    ...options\n  };\n\n  // Only add `data` if it's not null\n  if (data) {\n    config.data = data;\n  }\n  try {\n    const response = await axios(config);\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error('API Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","debounce","API_BASE_URL","DAYS_OF_WEEK","defaultRoutes","reduce","acc","day","index","jobs","validateRoutesStructure","routes","Array","isArray","fetchWithAuth","url","method","data","options","token","localStorage","getItem","Error","config","headers","Authorization","response","error","_error$response","console","message"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/components/utils.js"],"sourcesContent":["import axios from 'axios';\r\nimport debounce from 'lodash/debounce';\r\n\r\nexport const API_BASE_URL = 'http://localhost:5000/api';\r\n\r\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n\r\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\r\n  acc[day] = [\r\n    {\r\n      index: 0,\r\n      jobs: [],\r\n    },\r\n  ];\r\n  return acc;\r\n}, {});\r\n\r\nexport const validateRoutesStructure = (routes) => {\r\n    return DAYS_OF_WEEK.reduce((acc, day) => {\r\n      acc[day] = Array.isArray(routes[day]) ? routes[day] : [{ index: 0, jobs: [] }];\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  export const fetchWithAuth = async (url, method = 'GET', data = null, options = {}) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) throw new Error('User is not authenticated');\r\n    \r\n    const config = {\r\n      method,\r\n      url: `${API_BASE_URL}${url}`,\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      ...options,\r\n    };\r\n  \r\n    // Only add `data` if it's not null\r\n    if (data) {\r\n      config.data = data;\r\n    }\r\n  \r\n    try {\r\n      const response = await axios(config);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('API Error:', error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,OAAO,MAAMC,YAAY,GAAG,2BAA2B;AAEvD,OAAO,MAAMC,YAAY,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC;AAE1G,OAAO,MAAMC,aAAa,GAAGD,YAAY,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC7DD,GAAG,CAACC,GAAG,CAAC,GAAG,CACT;IACEC,KAAK,EAAE,CAAC;IACRC,IAAI,EAAE;EACR,CAAC,CACF;EACD,OAAOH,GAAG;AACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AAEN,OAAO,MAAMI,uBAAuB,GAAIC,MAAM,IAAK;EAC/C,OAAOR,YAAY,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IACvCD,GAAG,CAACC,GAAG,CAAC,GAAGK,KAAK,CAACC,OAAO,CAACF,MAAM,CAACJ,GAAG,CAAC,CAAC,GAAGI,MAAM,CAACJ,GAAG,CAAC,GAAG,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IAC9E,OAAOH,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACrF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,2BAA2B,CAAC;EAExD,MAAMC,MAAM,GAAG;IACbP,MAAM;IACND,GAAG,EAAE,GAAGb,YAAY,GAAGa,GAAG,EAAE;IAC5BS,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUN,KAAK,EAAE;MAChC,cAAc,EAAE;IAClB,CAAC;IACD,GAAGD;EACL,CAAC;;EAED;EACA,IAAID,IAAI,EAAE;IACRM,MAAM,CAACN,IAAI,GAAGA,IAAI;EACpB;EAEA,IAAI;IACF,MAAMS,QAAQ,GAAG,MAAM1B,KAAK,CAACuB,MAAM,CAAC;IACpC,OAAOG,QAAQ,CAACT,IAAI;EACtB,CAAC,CAAC,OAAOU,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdC,OAAO,CAACF,KAAK,CAAC,YAAY,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACD,QAAQ,cAAAE,eAAA,uBAAdA,eAAA,CAAgBX,IAAI,KAAIU,KAAK,CAACG,OAAO,CAAC;IAClE,MAAMH,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}