{"ast":null,"code":"var _jsxFileName = \"C:\\\\AUTOLAWN\\\\autolawn-frontend\\\\src\\\\pages\\\\BuildRoutes\\\\BuildRoutes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport CustomerMap from '../../components/CustomerMap';\nimport { fetchJobs, fetchRoutes, saveRoute, deleteRoute, updateRoute, addJobToRoute, removeJobFromRoute, fetchCalendarEvents, createCalendarEvent, updateCalendarEvent, deleteCalendarEvent } from './api';\nimport Header from '../../components/Header';\nimport ErrorBoundary from '../../components/ErrorBoundary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BuildRoutes = () => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [activeTab, setActiveTab] = useState('routes');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [newRouteName, setNewRouteName] = useState('');\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const [jobsData, routesData, eventsData] = await Promise.all([fetchJobs(), fetchRoutes(), fetchCalendarEvents()]);\n      setJobs(jobsData);\n      setRoutes(routesData);\n      setEvents(eventsData);\n    } catch (err) {\n      console.error('Error fetching data:', err);\n      setError('Failed to load data. Please try refreshing the page.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const onDragEnd = async result => {\n    const {\n      source,\n      destination\n    } = result;\n    if (!destination) return;\n    try {\n      if (source.droppableId === 'jobPool' && destination.droppableId.startsWith('route-')) {\n        const routeId = destination.droppableId.split('-')[1];\n        await addJobToRoute(routeId, result.draggableId);\n      } else if (source.droppableId.startsWith('route-') && destination.droppableId === 'jobPool') {\n        const routeId = source.droppableId.split('-')[1];\n        await removeJobFromRoute(routeId, result.draggableId);\n      } else if (source.droppableId.startsWith('route-') && destination.droppableId.startsWith('route-')) {\n        const sourceRouteId = source.droppableId.split('-')[1];\n        const destRouteId = destination.droppableId.split('-')[1];\n        await removeJobFromRoute(sourceRouteId, result.draggableId);\n        await addJobToRoute(destRouteId, result.draggableId);\n      }\n      await fetchData();\n      setSuccessMessage('Job moved successfully!');\n    } catch (error) {\n      console.error('Error moving job:', error);\n      setError('Failed to move job. Please try again.');\n    }\n  };\n  const handleAddRoute = async () => {\n    if (!newRouteName.trim()) {\n      setError('Please enter a route name');\n      return;\n    }\n    try {\n      const newRoute = await saveRoute({\n        name: newRouteName,\n        jobs: []\n      });\n      setRoutes([...routes, newRoute]);\n      setNewRouteName('');\n      setSuccessMessage('New route added successfully!');\n    } catch (error) {\n      console.error('Error adding new route:', error);\n      setError('Failed to add new route. Please try again.');\n    }\n  };\n  const handleDeleteRoute = async routeId => {\n    try {\n      await deleteRoute(routeId);\n      setRoutes(routes.filter(route => route._id !== routeId));\n      setSuccessMessage('Route deleted successfully!');\n    } catch (error) {\n      console.error('Error deleting route:', error);\n      setError('Failed to delete route. Please try again.');\n    }\n  };\n  const renderRoutesList = () => /*#__PURE__*/_jsxDEV(DragDropContext, {\n    onDragEnd: onDragEnd,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n      children: routes.map(route => /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: `route-${route._id}`,\n        children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: provided.innerRef,\n          ...provided.droppableProps,\n          className: \"bg-gray-800 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2 text-white\",\n            children: route.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this), route.jobs && route.jobs.map((job, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n            draggableId: job._id,\n            index: index,\n            children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: provided.innerRef,\n              ...provided.draggableProps,\n              ...provided.dragHandleProps,\n              className: \"bg-gray-700 p-2 mb-2 rounded shadow text-white\",\n              children: job.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 23\n            }, this)\n          }, job._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 19\n          }, this)), provided.placeholder, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteRoute(route._id),\n            className: \"mt-2 bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700\",\n            children: \"Delete Route\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)\n      }, route._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Droppable, {\n      droppableId: \"jobPool\",\n      children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: provided.innerRef,\n        ...provided.droppableProps,\n        className: \"mt-6 bg-gray-800 p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-white\",\n          children: \"Unassigned Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), jobs.filter(job => job.status === 'Pending' && !job.route).map((job, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n          draggableId: job._id,\n          index: index,\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: provided.innerRef,\n            ...provided.draggableProps,\n            ...provided.dragHandleProps,\n            className: \"bg-gray-700 p-2 mb-2 rounded shadow text-white\",\n            children: job.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }, this)\n        }, job._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this)), provided.placeholder]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n  const renderCalendarView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:col-span-3\",\n      children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n        initialView: \"dayGridMonth\",\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n        events: events,\n        editable: true,\n        droppable: true,\n        eventDrop: handleEventDrop,\n        eventResize: handleEventResize,\n        eventReceive: handleEventReceive,\n        eventClick: handleEventClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-white\",\n          children: \"Job Pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), jobs.filter(job => job.status === 'Pending' && !job.route).map(job => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fc-event bg-gray-700 p-2 mb-2 rounded shadow text-white cursor-move\",\n          \"data-event\": JSON.stringify({\n            id: job._id,\n            title: job.title,\n            duration: '01:00'\n          }),\n          children: job.title\n        }, job._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-white\",\n          children: \"Route Pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), routes.map(route => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fc-event bg-gray-700 p-2 mb-2 rounded shadow text-white cursor-move\",\n          \"data-event\": JSON.stringify({\n            id: route._id,\n            title: route.name,\n            duration: '02:00'\n          }),\n          children: route.name\n        }, route._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n  const renderMapView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[600px]\",\n    children: /*#__PURE__*/_jsxDEV(CustomerMap, {\n      routes: routes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n  const renderTimelineView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n    children: routes.map(route => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-4 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-xl mb-2 text-white\",\n        children: route.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: route.jobs && route.jobs.map(job => {\n          var _job$customer, _job$customer2, _job$customer2$addres, _job$customer3, _job$customer3$addres;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-700 p-2 rounded text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold\",\n              children: job.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Customer: \", (_job$customer = job.customer) === null || _job$customer === void 0 ? void 0 : _job$customer.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Address: \", (_job$customer2 = job.customer) === null || _job$customer2 === void 0 ? void 0 : (_job$customer2$addres = _job$customer2.address) === null || _job$customer2$addres === void 0 ? void 0 : _job$customer2$addres.street, \", \", (_job$customer3 = job.customer) === null || _job$customer3 === void 0 ? void 0 : (_job$customer3$addres = _job$customer3.address) === null || _job$customer3$addres === void 0 ? void 0 : _job$customer3$addres.city]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Price: $\", job.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Status: \", job.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)]\n          }, job._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, route._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n  const handleEventDrop = async info => {\n    // Handle event drop logic\n  };\n  const handleEventResize = async info => {\n    // Handle event resize logic\n  };\n  const handleEventReceive = async info => {\n    // Handle new event receive logic\n  };\n  const handleEventClick = info => {\n    // Handle event click logic, maybe open a modal to edit the event\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center mt-8 text-white\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center mt-8 text-red-400\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-6 sm:px-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold mb-6\",\n            children: \"Route Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-900 border-l-4 border-green-500 text-green-200 p-4 mb-4\",\n            role: \"alert\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: successMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newRouteName,\n              onChange: e => setNewRouteName(e.target.value),\n              placeholder: \"Enter route name\",\n              className: \"mr-2 p-2 bg-gray-700 text-white rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddRoute,\n              className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",\n              children: \"Add New Route\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"flex space-x-4\",\n              children: ['routes', 'calendar', 'map', 'timeline'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab(tab),\n                className: `${activeTab === tab ? 'bg-blue-600 text-white' : 'text-blue-300 hover:text-blue-100'} px-3 py-2 font-medium text-sm rounded-md`,\n                children: tab.charAt(0).toUpperCase() + tab.slice(1)\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 shadow overflow-hidden sm:rounded-lg p-6\",\n            children: [activeTab === 'routes' && renderRoutesList(), activeTab === 'calendar' && renderCalendarView(), activeTab === 'map' && renderMapView(), activeTab === 'timeline' && renderTimelineView()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n_s(BuildRoutes, \"47KcS7XwqFlF/XMTtXKq83k4J0c=\");\n_c = BuildRoutes;\nexport default BuildRoutes;\nvar _c;\n$RefreshReg$(_c, \"BuildRoutes\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","DragDropContext","Droppable","Draggable","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","CustomerMap","fetchJobs","fetchRoutes","saveRoute","deleteRoute","updateRoute","addJobToRoute","removeJobFromRoute","fetchCalendarEvents","createCalendarEvent","updateCalendarEvent","deleteCalendarEvent","Header","ErrorBoundary","jsxDEV","_jsxDEV","BuildRoutes","_s","jobs","setJobs","routes","setRoutes","events","setEvents","activeTab","setActiveTab","loading","setLoading","error","setError","successMessage","setSuccessMessage","newRouteName","setNewRouteName","fetchData","jobsData","routesData","eventsData","Promise","all","err","console","onDragEnd","result","source","destination","droppableId","startsWith","routeId","split","draggableId","sourceRouteId","destRouteId","handleAddRoute","trim","newRoute","name","handleDeleteRoute","filter","route","_id","renderRoutesList","children","className","map","provided","ref","innerRef","droppableProps","fileName","_jsxFileName","lineNumber","columnNumber","job","index","draggableProps","dragHandleProps","title","placeholder","onClick","status","renderCalendarView","plugins","initialView","headerToolbar","left","center","right","editable","droppable","eventDrop","handleEventDrop","eventResize","handleEventResize","eventReceive","handleEventReceive","eventClick","handleEventClick","JSON","stringify","id","duration","renderMapView","renderTimelineView","_job$customer","_job$customer2","_job$customer2$addres","_job$customer3","_job$customer3$addres","customer","address","street","city","price","info","role","type","value","onChange","e","target","tab","charAt","toUpperCase","slice","_c","$RefreshReg$"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/pages/BuildRoutes/BuildRoutes.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport CustomerMap from '../../components/CustomerMap';\r\nimport { fetchJobs, fetchRoutes, saveRoute, deleteRoute, updateRoute, addJobToRoute, removeJobFromRoute, fetchCalendarEvents, createCalendarEvent, updateCalendarEvent, deleteCalendarEvent } from './api';\r\nimport Header from '../../components/Header';\r\nimport ErrorBoundary from '../../components/ErrorBoundary';\r\n\r\nconst BuildRoutes = () => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [routes, setRoutes] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('routes');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [newRouteName, setNewRouteName] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const [jobsData, routesData, eventsData] = await Promise.all([\r\n        fetchJobs(),\r\n        fetchRoutes(),\r\n        fetchCalendarEvents()\r\n      ]);\r\n\r\n      setJobs(jobsData);\r\n      setRoutes(routesData);\r\n      setEvents(eventsData);\r\n    } catch (err) {\r\n      console.error('Error fetching data:', err);\r\n      setError('Failed to load data. Please try refreshing the page.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const onDragEnd = async (result) => {\r\n    const { source, destination } = result;\r\n    if (!destination) return;\r\n\r\n    try {\r\n      if (source.droppableId === 'jobPool' && destination.droppableId.startsWith('route-')) {\r\n        const routeId = destination.droppableId.split('-')[1];\r\n        await addJobToRoute(routeId, result.draggableId);\r\n      } else if (source.droppableId.startsWith('route-') && destination.droppableId === 'jobPool') {\r\n        const routeId = source.droppableId.split('-')[1];\r\n        await removeJobFromRoute(routeId, result.draggableId);\r\n      } else if (source.droppableId.startsWith('route-') && destination.droppableId.startsWith('route-')) {\r\n        const sourceRouteId = source.droppableId.split('-')[1];\r\n        const destRouteId = destination.droppableId.split('-')[1];\r\n        await removeJobFromRoute(sourceRouteId, result.draggableId);\r\n        await addJobToRoute(destRouteId, result.draggableId);\r\n      }\r\n      await fetchData();\r\n      setSuccessMessage('Job moved successfully!');\r\n    } catch (error) {\r\n      console.error('Error moving job:', error);\r\n      setError('Failed to move job. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleAddRoute = async () => {\r\n    if (!newRouteName.trim()) {\r\n      setError('Please enter a route name');\r\n      return;\r\n    }\r\n    try {\r\n      const newRoute = await saveRoute({ name: newRouteName, jobs: [] });\r\n      setRoutes([...routes, newRoute]);\r\n      setNewRouteName('');\r\n      setSuccessMessage('New route added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding new route:', error);\r\n      setError('Failed to add new route. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteRoute = async (routeId) => {\r\n    try {\r\n      await deleteRoute(routeId);\r\n      setRoutes(routes.filter(route => route._id !== routeId));\r\n      setSuccessMessage('Route deleted successfully!');\r\n    } catch (error) {\r\n      console.error('Error deleting route:', error);\r\n      setError('Failed to delete route. Please try again.');\r\n    }\r\n  };\r\n\r\n  const renderRoutesList = () => (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {routes.map(route => (\r\n          <Droppable key={route._id} droppableId={`route-${route._id}`}>\r\n            {(provided) => (\r\n              <div\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                className=\"bg-gray-800 p-4 rounded-lg\"\r\n              >\r\n                <h3 className=\"font-semibold mb-2 text-white\">{route.name}</h3>\r\n                {route.jobs && route.jobs.map((job, index) => (\r\n                  <Draggable key={job._id} draggableId={job._id} index={index}>\r\n                    {(provided) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        className=\"bg-gray-700 p-2 mb-2 rounded shadow text-white\"\r\n                      >\r\n                        {job.title}\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n                <button onClick={() => handleDeleteRoute(route._id)} className=\"mt-2 bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700\">\r\n                  Delete Route\r\n                </button>\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        ))}\r\n      </div>\r\n      <Droppable droppableId=\"jobPool\">\r\n        {(provided) => (\r\n          <div\r\n            ref={provided.innerRef}\r\n            {...provided.droppableProps}\r\n            className=\"mt-6 bg-gray-800 p-4 rounded-lg\"\r\n          >\r\n            <h3 className=\"font-semibold mb-2 text-white\">Unassigned Jobs</h3>\r\n            {jobs.filter(job => job.status === 'Pending' && !job.route).map((job, index) => (\r\n              <Draggable key={job._id} draggableId={job._id} index={index}>\r\n                {(provided) => (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    className=\"bg-gray-700 p-2 mb-2 rounded shadow text-white\"\r\n                  >\r\n                    {job.title}\r\n                  </div>\r\n                )}\r\n              </Draggable>\r\n            ))}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext>\r\n  );\r\n\r\n  const renderCalendarView = () => (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n      <div className=\"md:col-span-3\">\r\n        <FullCalendar\r\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n          initialView=\"dayGridMonth\"\r\n          headerToolbar={{\r\n            left: 'prev,next today',\r\n            center: 'title',\r\n            right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n          }}\r\n          events={events}\r\n          editable={true}\r\n          droppable={true}\r\n          eventDrop={handleEventDrop}\r\n          eventResize={handleEventResize}\r\n          eventReceive={handleEventReceive}\r\n          eventClick={handleEventClick}\r\n        />\r\n      </div>\r\n      <div>\r\n        <div className=\"bg-gray-800 p-4 rounded-lg mb-4\">\r\n          <h3 className=\"font-semibold mb-2 text-white\">Job Pool</h3>\r\n          {jobs.filter(job => job.status === 'Pending' && !job.route).map(job => (\r\n            <div\r\n              key={job._id}\r\n              className=\"fc-event bg-gray-700 p-2 mb-2 rounded shadow text-white cursor-move\"\r\n              data-event={JSON.stringify({\r\n                id: job._id,\r\n                title: job.title,\r\n                duration: '01:00'\r\n              })}\r\n            >\r\n              {job.title}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"bg-gray-800 p-4 rounded-lg\">\r\n          <h3 className=\"font-semibold mb-2 text-white\">Route Pool</h3>\r\n          {routes.map(route => (\r\n            <div\r\n              key={route._id}\r\n              className=\"fc-event bg-gray-700 p-2 mb-2 rounded shadow text-white cursor-move\"\r\n              data-event={JSON.stringify({\r\n                id: route._id,\r\n                title: route.name,\r\n                duration: '02:00'\r\n              })}\r\n            >\r\n              {route.name}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderMapView = () => (\r\n    <div className=\"h-[600px]\">\r\n      <CustomerMap routes={routes} />\r\n    </div>\r\n  );\r\n\r\n  const renderTimelineView = () => (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n      {routes.map(route => (\r\n        <div key={route._id} className=\"bg-gray-800 p-4 rounded-lg\">\r\n          <h3 className=\"font-semibold text-xl mb-2 text-white\">{route.name}</h3>\r\n          <div className=\"space-y-2\">\r\n            {route.jobs && route.jobs.map(job => (\r\n              <div key={job._id} className=\"bg-gray-700 p-2 rounded text-white\">\r\n                <p className=\"font-semibold\">{job.title}</p>\r\n                <p>Customer: {job.customer?.name}</p>\r\n                <p>Address: {job.customer?.address?.street}, {job.customer?.address?.city}</p>\r\n                <p>Price: ${job.price}</p>\r\n                <p>Status: {job.status}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  const handleEventDrop = async (info) => {\r\n    // Handle event drop logic\r\n  };\r\n\r\n  const handleEventResize = async (info) => {\r\n    // Handle event resize logic\r\n  };\r\n\r\n  const handleEventReceive = async (info) => {\r\n    // Handle new event receive logic\r\n  };\r\n\r\n  const handleEventClick = (info) => {\r\n    // Handle event click logic, maybe open a modal to edit the event\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center mt-8 text-white\">Loading...</div>;\r\n  if (error) return <div className=\"text-center mt-8 text-red-400\">{error}</div>;\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"min-h-screen bg-gray-900 text-white\">\r\n        <Header />\r\n        <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n          <div className=\"px-4 py-6 sm:px-0\">\r\n            <h1 className=\"text-3xl font-bold mb-6\">Route Management</h1>\r\n\r\n            {successMessage && (\r\n              <div className=\"bg-green-900 border-l-4 border-green-500 text-green-200 p-4 mb-4\" role=\"alert\">\r\n                <p>{successMessage}</p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mb-6 flex items-center\">\r\n              <input\r\n                type=\"text\"\r\n                value={newRouteName}\r\n                onChange={(e) => setNewRouteName(e.target.value)}\r\n                placeholder=\"Enter route name\"\r\n                className=\"mr-2 p-2 bg-gray-700 text-white rounded\"\r\n              />\r\n              <button\r\n                onClick={handleAddRoute}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n              >\r\n                Add New Route\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mb-6\">\r\n              <nav className=\"flex space-x-4\">\r\n                {['routes', 'calendar', 'map', 'timeline'].map((tab) => (\r\n                  <button\r\n                    key={tab}\r\n                    onClick={() => setActiveTab(tab)}\r\n                    className={`${\r\n                      activeTab === tab\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'text-blue-300 hover:text-blue-100'\r\n                    } px-3 py-2 font-medium text-sm rounded-md`}\r\n                  >\r\n                    {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                  </button>\r\n                ))}\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 shadow overflow-hidden sm:rounded-lg p-6\">\r\n              {activeTab === 'routes' && renderRoutesList()}\r\n              {activeTab === 'calendar' && renderCalendarView()}\r\n              {activeTab === 'map' && renderMapView()}\r\n              {activeTab === 'timeline' && renderTimelineView()}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default BuildRoutes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}