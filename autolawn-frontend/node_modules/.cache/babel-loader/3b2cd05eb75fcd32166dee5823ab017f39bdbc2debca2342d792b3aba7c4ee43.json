{"ast":null,"code":"var _jsxFileName = \"C:\\\\AUTOLAWN\\\\autolawn-frontend\\\\src\\\\components\\\\LoginSuccess.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/LoginSuccess.js\n\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginSuccess = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token');\n    if (token) {\n      // Store the token (consider security implications)\n      localStorage.setItem('token', token);\n\n      // Optionally, verify the token by fetching /api/auth/verify\n      fetch('http://localhost:5000/api/auth/verify', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => response.json()).then(data => {\n        console.log('User data:', data);\n        // Redirect to dashboard or home page\n        navigate('/dashboard');\n      }).catch(error => {\n        console.error('Error fetching user data:', error);\n        // Redirect to sign-in page on error\n        navigate('/signin');\n      });\n    } else {\n      // No token found, redirect to sign-in\n      navigate('/signin');\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Logging in...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n};\n_s(LoginSuccess, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginSuccess;\nexport default LoginSuccess;\nvar _c;\n$RefreshReg$(_c, \"LoginSuccess\");","map":{"version":3,"names":["React","useEffect","useNavigate","jsxDEV","_jsxDEV","LoginSuccess","_s","navigate","urlParams","URLSearchParams","window","location","search","token","get","localStorage","setItem","fetch","headers","Authorization","then","response","json","data","console","log","catch","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/components/LoginSuccess.js"],"sourcesContent":["// frontend/src/pages/LoginSuccess.js\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst LoginSuccess = () => {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const token = urlParams.get('token');\r\n\r\n    if (token) {\r\n      // Store the token (consider security implications)\r\n      localStorage.setItem('token', token);\r\n\r\n      // Optionally, verify the token by fetching /api/auth/verify\r\n      fetch('http://localhost:5000/api/auth/verify', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          console.log('User data:', data);\r\n          // Redirect to dashboard or home page\r\n          navigate('/dashboard');\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching user data:', error);\r\n          // Redirect to sign-in page on error\r\n          navigate('/signin');\r\n        });\r\n    } else {\r\n      // No token found, redirect to sign-in\r\n      navigate('/signin');\r\n    }\r\n  }, [navigate]);\r\n\r\n  return <div>Logging in...</div>;\r\n};\r\n\r\nexport default LoginSuccess;\r\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMO,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC7D,MAAMC,KAAK,GAAGL,SAAS,CAACM,GAAG,CAAC,OAAO,CAAC;IAEpC,IAAID,KAAK,EAAE;MACT;MACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;;MAEpC;MACAI,KAAK,CAAC,uCAAuC,EAAE;QAC7CC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,KAAK;QAChC;MACF,CAAC,CAAC,CACCO,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,IAAI,CAAC;QAC/B;QACAhB,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,CAAC,CACDmB,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD;QACApB,QAAQ,CAAC,SAAS,CAAC;MACrB,CAAC,CAAC;IACN,CAAC,MAAM;MACL;MACAA,QAAQ,CAAC,SAAS,CAAC;IACrB;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,oBAAOH,OAAA;IAAAwB,QAAA,EAAK;EAAa;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AACjC,CAAC;AAAC1B,EAAA,CAnCID,YAAY;EAAA,QACCH,WAAW;AAAA;AAAA+B,EAAA,GADxB5B,YAAY;AAqClB,eAAeA,YAAY;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}