{"ast":null,"code":"import axios from 'axios';\nimport debounce from 'lodash/debounce';\nexport const API_BASE_URL = 'http://localhost:5000/api';\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\n  acc[day] = [{\n    index: 0,\n    jobs: []\n  }];\n  return acc;\n}, {});\nexport const validateRoutesStructure = routes => {\n  const validatedRoutes = {\n    ...defaultRoutes\n  };\n  DAYS_OF_WEEK.forEach(day => {\n    if (Array.isArray(routes[day])) {\n      validatedRoutes[day] = routes[day].map((route, idx) => ({\n        index: idx,\n        jobs: Array.isArray(route.jobs) ? route.jobs : []\n      }));\n    }\n  });\n  return validatedRoutes;\n};\nexport const fetchWithAuth = async (url, method = 'GET', data = null) => {\n  const token = localStorage.getItem('token');\n  if (!token) throw new Error('User is not authenticated');\n  const config = {\n    method,\n    url: `${API_BASE_URL}${url}`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data,\n    timeout: 30000\n  };\n  try {\n    const response = await axios(config);\n    return response.data; // Ensure this returns the actual data object\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","debounce","API_BASE_URL","DAYS_OF_WEEK","defaultRoutes","reduce","acc","day","index","jobs","validateRoutesStructure","routes","validatedRoutes","forEach","Array","isArray","map","route","idx","fetchWithAuth","url","method","data","token","localStorage","getItem","Error","config","headers","Authorization","timeout","response","error","console"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/components/utils.js"],"sourcesContent":["import axios from 'axios';\r\nimport debounce from 'lodash/debounce';\r\n\r\nexport const API_BASE_URL = 'http://localhost:5000/api';\r\n\r\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n\r\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\r\n  acc[day] = [\r\n    {\r\n      index: 0,\r\n      jobs: [],\r\n    },\r\n  ];\r\n  return acc;\r\n}, {});\r\n\r\nexport const validateRoutesStructure = (routes) => {\r\n  const validatedRoutes = { ...defaultRoutes };\r\n  DAYS_OF_WEEK.forEach((day) => {\r\n    if (Array.isArray(routes[day])) {\r\n      validatedRoutes[day] = routes[day].map((route, idx) => ({\r\n        index: idx,\r\n        jobs: Array.isArray(route.jobs) ? route.jobs : [],\r\n      }));\r\n    }\r\n  });\r\n  return validatedRoutes;\r\n};\r\n\r\nexport const fetchWithAuth = async (url, method = 'GET', data = null) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) throw new Error('User is not authenticated');\r\n    \r\n    const config = {\r\n      method,\r\n      url: `${API_BASE_URL}${url}`,\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data,\r\n      timeout: 30000,\r\n    };\r\n  \r\n    try {\r\n      const response = await axios(config);\r\n      return response.data;  // Ensure this returns the actual data object\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,OAAO,MAAMC,YAAY,GAAG,2BAA2B;AAEvD,OAAO,MAAMC,YAAY,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC;AAE1G,OAAO,MAAMC,aAAa,GAAGD,YAAY,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC7DD,GAAG,CAACC,GAAG,CAAC,GAAG,CACT;IACEC,KAAK,EAAE,CAAC;IACRC,IAAI,EAAE;EACR,CAAC,CACF;EACD,OAAOH,GAAG;AACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AAEN,OAAO,MAAMI,uBAAuB,GAAIC,MAAM,IAAK;EACjD,MAAMC,eAAe,GAAG;IAAE,GAAGR;EAAc,CAAC;EAC5CD,YAAY,CAACU,OAAO,CAAEN,GAAG,IAAK;IAC5B,IAAIO,KAAK,CAACC,OAAO,CAACJ,MAAM,CAACJ,GAAG,CAAC,CAAC,EAAE;MAC9BK,eAAe,CAACL,GAAG,CAAC,GAAGI,MAAM,CAACJ,GAAG,CAAC,CAACS,GAAG,CAAC,CAACC,KAAK,EAAEC,GAAG,MAAM;QACtDV,KAAK,EAAEU,GAAG;QACVT,IAAI,EAAEK,KAAK,CAACC,OAAO,CAACE,KAAK,CAACR,IAAI,CAAC,GAAGQ,KAAK,CAACR,IAAI,GAAG;MACjD,CAAC,CAAC,CAAC;IACL;EACF,CAAC,CAAC;EACF,OAAOG,eAAe;AACxB,CAAC;AAED,OAAO,MAAMO,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,KAAK;EACrE,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,2BAA2B,CAAC;EAExD,MAAMC,MAAM,GAAG;IACbN,MAAM;IACND,GAAG,EAAE,GAAGlB,YAAY,GAAGkB,GAAG,EAAE;IAC5BQ,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUN,KAAK;IAChC,CAAC;IACDD,IAAI;IACJQ,OAAO,EAAE;EACX,CAAC;EAED,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAM/B,KAAK,CAAC2B,MAAM,CAAC;IACpC,OAAOI,QAAQ,CAACT,IAAI,CAAC,CAAE;EACzB,CAAC,CAAC,OAAOU,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}