{"ast":null,"code":"import axios from 'axios';\nimport debounce from 'lodash/debounce';\nexport const API_BASE_URL = 'http://localhost:5000/api';\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\n  acc[day] = [{\n    index: 0,\n    jobs: []\n  }];\n  return acc;\n}, {});\nexport const validateRoutesStructure = routes => {\n  return DAYS_OF_WEEK.reduce((acc, day) => {\n    acc[day] = Array.isArray(routes[day]) ? routes[day] : [{\n      index: 0,\n      jobs: []\n    }];\n    return acc;\n  }, {});\n};\nexport const fetchWithAuth = async (url, method = 'GET', data = null, options = {}) => {\n  const token = localStorage.getItem('token');\n  if (!token) throw new Error('User is not authenticated');\n  try {\n    const response = await axios({\n      method,\n      url: `${API_BASE_URL}${url}`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      data,\n      ...options\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error('API Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};\nexport const debounceSaveToLocalStorage = debounce((routes, jobPool) => {\n  localStorage.setItem('routes', JSON.stringify(routes));\n  localStorage.setItem('jobPool', JSON.stringify(jobPool));\n}, 500);","map":{"version":3,"names":["axios","debounce","API_BASE_URL","DAYS_OF_WEEK","defaultRoutes","reduce","acc","day","index","jobs","validateRoutesStructure","routes","Array","isArray","fetchWithAuth","url","method","data","options","token","localStorage","getItem","Error","response","headers","Authorization","error","_error$response","console","message","debounceSaveToLocalStorage","jobPool","setItem","JSON","stringify"],"sources":["C:/AUTOLAWN/autolawn-frontend/src/components/utils.js"],"sourcesContent":["import axios from 'axios';\r\nimport debounce from 'lodash/debounce';\r\n\r\nexport const API_BASE_URL = 'http://localhost:5000/api';\r\n\r\nexport const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n\r\nexport const defaultRoutes = DAYS_OF_WEEK.reduce((acc, day) => {\r\n  acc[day] = [\r\n    {\r\n      index: 0,\r\n      jobs: [],\r\n    },\r\n  ];\r\n  return acc;\r\n}, {});\r\n\r\nexport const validateRoutesStructure = (routes) => {\r\n    return DAYS_OF_WEEK.reduce((acc, day) => {\r\n      acc[day] = Array.isArray(routes[day]) ? routes[day] : [{ index: 0, jobs: [] }];\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  export const fetchWithAuth = async (url, method = 'GET', data = null, options = {}) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) throw new Error('User is not authenticated');\r\n    \r\n    try {\r\n      const response = await axios({\r\n        method,\r\n        url: `${API_BASE_URL}${url}`,\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        data,\r\n        ...options\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('API Error:', error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\nexport const debounceSaveToLocalStorage = debounce((routes, jobPool) => {\r\n  localStorage.setItem('routes', JSON.stringify(routes));\r\n  localStorage.setItem('jobPool', JSON.stringify(jobPool));\r\n}, 500);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,iBAAiB;AAEtC,OAAO,MAAMC,YAAY,GAAG,2BAA2B;AAEvD,OAAO,MAAMC,YAAY,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC;AAE1G,OAAO,MAAMC,aAAa,GAAGD,YAAY,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC7DD,GAAG,CAACC,GAAG,CAAC,GAAG,CACT;IACEC,KAAK,EAAE,CAAC;IACRC,IAAI,EAAE;EACR,CAAC,CACF;EACD,OAAOH,GAAG;AACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AAEN,OAAO,MAAMI,uBAAuB,GAAIC,MAAM,IAAK;EAC/C,OAAOR,YAAY,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IACvCD,GAAG,CAACC,GAAG,CAAC,GAAGK,KAAK,CAACC,OAAO,CAACF,MAAM,CAACJ,GAAG,CAAC,CAAC,GAAGI,MAAM,CAACJ,GAAG,CAAC,GAAG,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IAC9E,OAAOH,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACrF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,2BAA2B,CAAC;EAExD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMvB,KAAK,CAAC;MAC3BgB,MAAM;MACND,GAAG,EAAE,GAAGb,YAAY,GAAGa,GAAG,EAAE;MAC5BS,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUN,KAAK,EAAE;QAChC,cAAc,EAAE;MAClB,CAAC;MACDF,IAAI;MACJ,GAAGC;IACL,CAAC,CAAC;IACF,OAAOK,QAAQ,CAACN,IAAI;EACtB,CAAC,CAAC,OAAOS,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdC,OAAO,CAACF,KAAK,CAAC,YAAY,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACH,QAAQ,cAAAI,eAAA,uBAAdA,eAAA,CAAgBV,IAAI,KAAIS,KAAK,CAACG,OAAO,CAAC;IAClE,MAAMH,KAAK;EACb;AACF,CAAC;AAEH,OAAO,MAAMI,0BAA0B,GAAG7B,QAAQ,CAAC,CAACU,MAAM,EAAEoB,OAAO,KAAK;EACtEX,YAAY,CAACY,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACvB,MAAM,CAAC,CAAC;EACtDS,YAAY,CAACY,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACH,OAAO,CAAC,CAAC;AAC1D,CAAC,EAAE,GAAG,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}